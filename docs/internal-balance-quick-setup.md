# üöÄ –ë—ã—Å—Ç—Ä–∞—è –Ω–∞—Å—Ç—Ä–æ–π–∫–∞ –≤–Ω—É—Ç—Ä–µ–Ω–Ω–µ–≥–æ –±–∞–ª–∞–Ω—Å–∞

## –ú–∏–Ω–∏–º–∞–ª—å–Ω—ã–π –Ω–∞–±–æ—Ä –ø–µ—Ä–µ–º–µ–Ω–Ω—ã—Ö –¥–ª—è —Ä–∞–±–æ—Ç—ã

### –®–∞–≥ 1: –ì–µ–Ω–µ—Ä–∞—Ü–∏—è —Å–µ–∫—Ä–µ—Ç–Ω–æ–≥–æ –∫–ª—é—á–∞

```bash
openssl rand -hex 32
```

–°–∫–æ–ø–∏—Ä—É–π—Ç–µ —Ä–µ–∑—É–ª—å—Ç–∞—Ç –∏ –¥–æ–±–∞–≤—å—Ç–µ –≤ `.env.local`:
```env
INTERNAL_BALANCE_SIGNING_SECRET=<—Ä–µ–∑—É–ª—å—Ç–∞—Ç_–∫–æ–º–∞–Ω–¥—ã>
```

### –®–∞–≥ 2: –ù–∞—Å—Ç—Ä–æ–π–∫–∞ –∫–æ—à–µ–ª—å–∫–∞ –∫–∞–∑–Ω–∞—á–µ–π—Å—Ç–≤–∞ (–¥–ª—è –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏—Ö –≤—ã–ø–ª–∞—Ç)

**–í–∞—Ä–∏–∞–Ω—Ç A: –†–µ–∞–ª—å–Ω—ã–µ –≤—ã–ø–ª–∞—Ç—ã**

1. –°–æ–∑–¥–∞–π—Ç–µ –Ω–æ–≤—ã–π –∫–æ—à–µ–ª–µ–∫ –≤ MetaMask (–ù–ï –∏—Å–ø–æ–ª—å–∑—É–π—Ç–µ –æ—Å–Ω–æ–≤–Ω–æ–π!)
2. –≠–∫—Å–ø–æ—Ä—Ç–∏—Ä—É–π—Ç–µ –ø—Ä–∏–≤–∞—Ç–Ω—ã–π –∫–ª—é—á
3. –ü–æ–ø–æ–ª–Ω–∏—Ç–µ –∫–æ—à–µ–ª–µ–∫ —Ç–æ–∫–µ–Ω–∞–º–∏
4. –î–æ–±–∞–≤—å—Ç–µ –≤ `.env.local`:
```env
TREASURY_PRIVATE_KEY=0x<–≤–∞—à_–ø—Ä–∏–≤–∞—Ç–Ω—ã–π_–∫–ª—é—á>
TREASURY_RPC_URL=https://mainnet.infura.io/v3/YOUR_KEY
```

**–í–∞—Ä–∏–∞–Ω—Ç B: –¢–µ—Å—Ç–æ–≤—ã–π —Ä–µ–∂–∏–º (dry-run)**

–û—Å—Ç–∞–≤—å—Ç–µ —ç—Ç–∏ –ø–µ—Ä–µ–º–µ–Ω–Ω—ã–µ –ø—É—Å—Ç—ã–º–∏ –∏–ª–∏ –Ω–µ —É–∫–∞–∑—ã–≤–∞–π—Ç–µ –∏—Ö:
```env
# TREASURY_PRIVATE_KEY=
# TREASURY_RPC_URL=
```

–í —ç—Ç–æ–º —Ä–µ–∂–∏–º–µ —Å–∫—Ä–∏–ø—Ç –±—É–¥–µ—Ç —Ä–∞–±–æ—Ç–∞—Ç—å –±–µ–∑ —Ä–µ–∞–ª—å–Ω—ã—Ö –≤—ã–ø–ª–∞—Ç –≤ –±–ª–æ–∫—á–µ–π–Ω.

### –®–∞–≥ 3: –ù–∞—Å—Ç—Ä–æ–π–∫–∞ Telegram –±–æ—Ç–∞ (–æ–ø—Ü–∏–æ–Ω–∞–ª—å–Ω–æ, –¥–ª—è –∫–æ–º–∞–Ω–¥—ã /credit)

1. –°–æ–∑–¥–∞–π—Ç–µ –±–æ—Ç–∞ —á–µ—Ä–µ–∑ @BotFather –≤ Telegram
2. –ü–æ–ª—É—á–∏—Ç–µ API –∫–ª—é—á
3. –£–∑–Ω–∞–π—Ç–µ —Å–≤–æ–π Chat ID (–æ—Ç–ø—Ä–∞–≤—å—Ç–µ `/myid` –±–æ—Ç—É)
4. –î–æ–±–∞–≤—å—Ç–µ –≤ `.env.local`:
```env
TELEGRAM_API_KEY=<–≤–∞—à_api_–∫–ª—é—á>
TELEGRAM_ADMIN_CHAT_ID=<–≤–∞—à_chat_id>
TELEGRAM_ALLOWED_USER_ID=<–≤–∞—à_chat_id>
```

---

## üìã –ü–æ–ª–Ω—ã–π —Å–ø–∏—Å–æ–∫ –ø–µ—Ä–µ–º–µ–Ω–Ω—ã—Ö

### üî¥ –û–±—è–∑–∞—Ç–µ–ª—å–Ω—ã–µ (–º–∏–Ω–∏–º—É–º –¥–ª—è —Ä–∞–±–æ—Ç—ã)

```env
INTERNAL_BALANCE_SIGNING_SECRET=<—Å–≥–µ–Ω–µ—Ä–∏—Ä–æ–≤–∞–Ω–Ω—ã–π_–∫–ª—é—á>
```

### üü° –î–ª—è –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏—Ö –≤—ã–ø–ª–∞—Ç

```env
TREASURY_PRIVATE_KEY=0x<–ø—Ä–∏–≤–∞—Ç–Ω—ã–π_–∫–ª—é—á>
TREASURY_RPC_URL=https://mainnet.infura.io/v3/YOUR_KEY
```

### üü¢ –†–µ–∫–æ–º–µ–Ω–¥—É–µ–º—ã–µ (–∏–º–µ—é—Ç –∑–Ω–∞—á–µ–Ω–∏—è –ø–æ —É–º–æ–ª—á–∞–Ω–∏—é)

```env
TREASURY_WORKER_ID=treasury-bot
TREASURY_BATCH_SIZE=5
TREASURY_TX_CONFIRMATIONS=1
INTERNAL_WITHDRAW_DAILY_LIMIT=1000
INTERNAL_WITHDRAW_MONTHLY_LIMIT=5000
TREASURY_BLOCKED_ADDRESSES=
```

### üîµ –î–ª—è Telegram –±–æ—Ç–∞ (–æ–ø—Ü–∏–æ–Ω–∞–ª—å–Ω–æ)

```env
TELEGRAM_API_KEY=
TELEGRAM_ADMIN_CHAT_ID=
TELEGRAM_ALLOWED_USER_ID=
```

---

## ‚úÖ –ü—Ä–æ–≤–µ—Ä–∫–∞ –Ω–∞—Å—Ç—Ä–æ–µ–∫

–ü–æ—Å–ª–µ –∑–∞–ø–æ–ª–Ω–µ–Ω–∏—è –≤—Å–µ—Ö –ø–µ—Ä–µ–º–µ–Ω–Ω—ã—Ö:

```bash
# –ü—Ä–æ–≤–µ—Ä—å—Ç–µ –Ω–∞–ª–∏—á–∏–µ –æ–±—è–∑–∞—Ç–µ–ª—å–Ω—ã—Ö –ø–µ—Ä–µ–º–µ–Ω–Ω—ã—Ö
grep -E "INTERNAL_BALANCE_SIGNING_SECRET" .env.local

# –ï—Å–ª–∏ –∏—Å–ø–æ–ª—å–∑—É–µ—Ç–µ –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏–µ –≤—ã–ø–ª–∞—Ç—ã:
grep -E "TREASURY_PRIVATE_KEY|TREASURY_RPC_URL" .env.local
```

---

## üéØ –ß—Ç–æ –¥–∞–ª—å—à–µ?

1. **–ü–µ—Ä–µ–∑–∞–ø—É—Å—Ç–∏—Ç–µ —Å–µ—Ä–≤–µ—Ä** –ø–æ—Å–ª–µ –¥–æ–±–∞–≤–ª–µ–Ω–∏—è –ø–µ—Ä–µ–º–µ–Ω–Ω—ã—Ö
2. **–ü—Ä–æ—Ç–µ—Å—Ç–∏—Ä—É–π—Ç–µ –Ω–∞—á–∏—Å–ª–µ–Ω–∏–µ –±–∞–ª–∞–Ω—Å–∞:**
   - –ß–µ—Ä–µ–∑ Telegram –±–æ—Ç–∞: `/credit`
   - –ò–ª–∏ —á–µ—Ä–µ–∑ API (—Å–º. `docs/admin-balance-guide.md`)
3. **–ü—Ä–æ–≤–µ—Ä—å—Ç–µ –æ—Ç–æ–±—Ä–∞–∂–µ–Ω–∏–µ –±–∞–ª–∞–Ω—Å–∞** –Ω–∞ —Å–∞–π—Ç–µ
4. **–ü—Ä–æ—Ç–µ—Å—Ç–∏—Ä—É–π—Ç–µ –≤—ã–≤–æ–¥** —á–µ—Ä–µ–∑ —Ñ–æ—Ä–º—É –Ω–∞ —Å–∞–π—Ç–µ

---

## üìö –ü–æ–¥—Ä–æ–±–Ω–∞—è –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è

- –ü–æ–ª–Ω–∞—è –∏–Ω—Å—Ç—Ä—É–∫—Ü–∏—è: `docs/internal-balance-env-setup.md`
- –°—Ç–∞—Ç—É—Å —Ñ—É–Ω–∫—Ü–∏–æ–Ω–∞–ª–∞: `docs/internal-balance-status-report.md`
- –ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ Telegram –±–æ—Ç–∞: `docs/telegram-balance-credit-guide.md`
- API –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è: `docs/admin-balance-guide.md`

